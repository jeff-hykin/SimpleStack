<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Home/Home page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
        <script type="text/javascript" src="{{ url_for('static', filename='localforage.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='test.js') }}"></script>
        <!--Import styles-->
        <link type="text/css" rel="stylesheet" href="{{ url_for('static',filename='GlobalᐟGlobalStyles.css') }}"/>
        <!-- import other things -->
        

        <!-- You don't need to set a title or meta charset or anything -->
        <!-- Just use this space to include scripts/css or  -->
        <!-- anything else that you want to show up on every page -->
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <!-- <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css"  media="screen,projection"/> -->
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    

    </head>
    <body style="background-color: #f5f5f5;">
        

        <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.js"></script>
    

        <page id="GlobalModule"></page>
        <script type="text/javascript" src="{{ url_for('static', filename='Core.js') }}"></script>
        <script>
            
         //
        //    User Defined Global Tools
        //
            // console.log(`GLOBAL JAVASCRIPT WAS RUN`)
            // var material = Require('materialize-css')
            
            
            Global.Debugging = true
            Global.Website = "http://127.0.0.1:5000/"
            
            
            var curl = async url=> new Promise(resolve => { 
                                fetch(url).then(res=>res.text()).then(body=>resolve(body))
                            })
            
            LoadDependencies = async ()=>dependencies=JSON.parse(await curl('https://raw.githubusercontent.com/jeff-hykin/SimplePackager/master/dependencies.json'))
            LoadDependencies()
            packages = {}
            
            async function require(package_name)
                {
                    //
                    if (package_name in packages)
                        {
                            return packages[package_name]
                        }
                    // load dependencies
                    try 
                        {
                            console.log(`starting loading ${package_name}`)
                            // load head packages
                            for (var each of dependencies[package_name].head) { document.head.innerHTML += each }
                            for (var each of dependencies[package_name].body) { document.body.innerHTML += each }
                            // FIXME, wait till packages are loaded
                            console.log(`finished loading ${package_name}`)
                            package[package_name] = {}
                        }
                    catch (e) {}
                }

            Main = async function () 
                {
                    LoadPage("Home/Home")
                }
            Main()

        </script>
    </body>
</html>